<!-- ======================================================
     🔧 DEBUG-TOOLS (universal)
     Diese Datei kannst du in jedes Projekt einbinden.
     Standardmäßig sind alle Tools deaktiviert (auskommentiert).
     Zum Aktivieren einfach <!-- ... --> entfernen.
====================================================== -->

<!--
1️⃣ Script-Load-Tester
Prüft, ob deine Hauptskripte korrekt geladen wurden.
Reihenfolge: erst asset.js, dann map-runtime.js
-->

<script src="./core/asset.js"
        onload="console.log('✅ asset.js geladen')"
        onerror="console.error('❌ asset.js fehlt')"></script>
<script src="./tools/map-runtime.js"
        onload="console.log('✅ map-runtime.js geladen')"
        onerror="console.error('❌ map-runtime.js fehlt')"></script>


<!--
2️⃣ Globaler Error-Logger
Fängt alle JavaScript-Fehler ab und zeigt sie in der Konsole an.
-->

<script>
  window.addEventListener("error", function (e) {
    console.error("🔥 Fehler:", e.message, "bei", e.filename, "Zeile", e.lineno);
  });
</script>


<!--
3️⃣ Performance-Logger
Misst die Gesamt-Ladezeit der Seite.
-->
<!--
<script>
  console.time("⏱️ Gesamt-Ladezeit");
  window.addEventListener("load", () => {
    console.timeEnd("⏱️ Gesamt-Ladezeit");
  });
</script>
-->

<!--
4️⃣ Asset-Checker
Prüft, ob bestimmte Dateien erreichbar sind.
Liste im checkAssets([...]) kannst du selbst anpassen.
-->

<script>
  async function checkAssets(files) {
    for (let f of files) {
      try {
        const res = await fetch(f);
        if (res.ok) console.log("✅ Gefunden:", f);
        else console.warn("⚠️ Nicht geladen:", f, res.status);
      } catch {
        console.error("❌ Fehler:", f);
      }
    }
  }

  // Beispielaufruf:
  checkAssets([
    "./core/asset.js",        // Haupt-Asset
    "./tools/map-runtime.js", // Karten-Engine
    "./maps/map-pro.json",    // Map-Datei
    "./assets/tileset.png",   // Beispielgrafik
    "./assets/sprites.png"    // Beispielsprites
  ]);
</script>


<!--
5️⃣ Ordnerstruktur-Logger
Geht deine vorgegebene Struktur durch und meldet,
ob die Dateien vorhanden sind.
-->

<script>
  const folders = {
    "core": ["asset.js"],
    "tools": ["map-runtime.js"],
    "maps": ["map-pro.json"],
    "assets": ["tileset.png", "sprites.png"]
  };

  for (let folder in folders) {
    folders[folder].forEach(file => {
      const path = `./${folder}/${file}`;
      fetch(path).then(r => {
        console.log(r.ok ? "✅" : "❌", path);
      });
    });
  }
</script>


<!--
6️⃣ Map-Loader Debug
Testet das Laden der map-pro.json und zeigt den JSON-Inhalt.
-->
<!--
<script type="module">
  (async () => {
    try {
      const res = await fetch("./maps/map-pro.json");
      const json = await res.json();
      console.log("🗺️ Map geladen:", json);
    } catch (err) {
      console.error("❌ Map konnte nicht geladen werden:", err);
    }
  })();
</script>
-->
